#!/usr/bin/tcsh -f

set temp_str=`pwd | sed 's|\(/[a-zA-Z0-9/_]*lab[0-9][0-9]\).*|\1|'`
set check_str=`echo ${temp_str} | sed 's|/[a-zA-Z0-9/_]*\(lab[0-9][0-9]\)|\1|'`

if ( $check_str =~ lab[0-9][0-9] ) then
    setenv fifo_training $temp_str
    echo "Currently working in ${check_str}"
else
    setenv fifo_training `pwd`
    echo "WARNING: setenv not called from a lab directory. Using current directory."
endif

if ( ! ${?labs_home} ) then
    setenv labs_home $fifo_training
else if ( ! -d ${labs_home}) then
    setenv labs_home $fifo_training
endif

if ( ! ${?scripts} ) then
    setenv scripts $fifo_training/scripts
else if ( ! -d ${scripts}) then
    setenv scripts $fifo_training/scripts
endif

echo labs_home = $labs_home
echo fifo_training = $fifo_training
echo scripts = $scripts
